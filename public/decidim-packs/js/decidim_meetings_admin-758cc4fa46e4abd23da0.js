!function(){var e,t={36846:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,a=void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===r(a)?a:String(a)),i)}var o,a}var a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this.listSelector=t.listSelector,this.hideOnFirstSelector=t.hideOnFirstSelector,this.hideOnLastSelector=t.hideOnLastSelector,this.run()}var t,n,r;return t=e,(n=[{key:"run",value:function(){var e=$(this.listSelector),t=this.hideOnFirstSelector,n=this.hideOnLastSelector;if(1===e.length){var r=e.first();r.find(t).hide(),r.find(n).hide()}else e.each((function(r,i){i.id===e.first().attr("id")?($(i).find(t).hide(),$(i).find(n).show()):i.id===e.last().attr("id")?($(i).find(n).hide(),$(i).find(t).show()):($(i).find(n).show(),$(i).find(t).show())}))}}])&&o(t.prototype,n),r&&o(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===l(o)?o:String(o)),r)}var i,o}var u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};c(this,e),this.listSelector=t.listSelector,this.labelSelector=t.labelSelector,this.onPositionComputed=t.onPositionComputed,this.run()}var t,n,r;return t=e,(n=[{key:"run",value:function(){var e=this;$(this.listSelector).each((function(t,n){var r=$(n).find(e.labelSelector),i=r.html();i.match(/#(\d+)/)?r.html(i.replace(/#(\d+)/,"#".concat(t+1))):r.html("".concat(i," #").concat(t+1)),e.onPositionComputed&&e.onPositionComputed(n,t)}))}}])&&d(t.prototype,n),r&&d(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),s=n(64112);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===f(o)?o:String(o)),r)}var i,o}function m(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var v=m((function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),$(t).length>0&&(0,s.Z)(t,n)[0].addEventListener("sortupdate",(function(e){var t=$(e.target).children();n.onSortUpdate&&n.onSortUpdate(t)}))}));function h(e,t){return new v(e,t)}function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==b(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===b(o)?o:String(o)),r)}var i,o}var S=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};g(this,e),this.wrapperSelector=t.wrapperSelector,this.containerSelector=t.containerSelector,this.fieldSelector=t.fieldSelector,this.addFieldButtonSelector=t.addFieldButtonSelector,this.addSeparatorButtonSelector=t.addSeparatorButtonSelector,this.addTitleAndDescriptionButtonSelector=t.addTitleAndDescriptionButtonSelector,this.fieldTemplateSelector=t.fieldTemplateSelector,this.separatorTemplateSelector=t.separatorTemplateSelector,this.TitleAndDescriptionTemplateSelector=t.TitleAndDescriptionTemplateSelector,this.removeFieldButtonSelector=t.removeFieldButtonSelector,this.moveUpFieldButtonSelector=t.moveUpFieldButtonSelector,this.moveDownFieldButtonSelector=t.moveDownFieldButtonSelector,this.onAddField=t.onAddField,this.onRemoveField=t.onRemoveField,this.onMoveUpField=t.onMoveUpField,this.onMoveDownField=t.onMoveDownField,this.placeholderId=t.placeholderId,this.elementCounter=0,this._enableInterpolation(),this._activateFields(),this._bindEvents()}var t,n,r;return t=e,n=[{key:"_enableInterpolation",value:function(){$.fn.replaceAttribute=function(e,t,n){return $(this).find("[".concat(e,"*=").concat(t,"]")).addBack("[".concat(e,"*=").concat(t,"]")).each((function(r,i){$(i).attr(e,$(i).attr(e).replace(t,n))})),this},$.fn.template=function(e,t){var n=$(this).find("template, .decidim-template");n.length>0&&n.html((function(n,r){return $(r).template(e,t)[0].outerHTML}));var r=$(this).find("[data-template]");return r.length>0&&r.each((function(n,r){var i=$(r),o=$(i.data("template")),a=$(o[0].outerHTML),l="".concat(o.attr("id"),"-").concat(t),c="#".concat(l);a.attr("id",l),i.attr("data-template",c).data("template",c),o.after(a),a.html((function(n,r){return $(r).template(e,t)[0].outerHTML}))})),$(this).replaceAttribute("id",e,t),$(this).replaceAttribute("name",e,t),$(this).replaceAttribute("data-tabs-content",e,t),$(this).replaceAttribute("for",e,t),$(this).replaceAttribute("tabs_id",e,t),$(this).replaceAttribute("href",e,t),$(this).replaceAttribute("value",e,t),this}}},{key:"_bindEvents",value:function(){var e=this;$(this.wrapperSelector).on("click",this.addFieldButtonSelector,(function(t){return e._bindSafeEvent(t,(function(){return e._addField(e.fieldTemplateSelector)}))})),this.addSeparatorButtonSelector&&$(this.wrapperSelector).on("click",this.addSeparatorButtonSelector,(function(t){return e._bindSafeEvent(t,(function(){return e._addField(e.separatorTemplateSelector)}))})),this.addTitleAndDescriptionButtonSelector&&$(this.wrapperSelector).on("click",this.addTitleAndDescriptionButtonSelector,(function(t){return e._bindSafeEvent(t,(function(){return e._addField(e.TitleAndDescriptionTemplateSelector)}))})),$(this.wrapperSelector).on("click",this.removeFieldButtonSelector,(function(t){return e._bindSafeEvent(t,(function(t){return e._removeField(t)}))})),this.moveUpFieldButtonSelector&&$(this.wrapperSelector).on("click",this.moveUpFieldButtonSelector,(function(t){return e._bindSafeEvent(t,(function(t){return e._moveUpField(t)}))})),this.moveDownFieldButtonSelector&&$(this.wrapperSelector).on("click",this.moveDownFieldButtonSelector,(function(t){return e._bindSafeEvent(t,(function(t){return e._moveDownField(t)}))}))}},{key:"_bindSafeEvent",value:function(e,t){e.preventDefault(),e.stopPropagation();try{return t(e.target)}catch(n){return console.error(n),n}}},{key:"_addField",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:".decidim-template",t=$(this.wrapperSelector),n=t.find(this.containerSelector),r=t.data("template"),i=null;r&&(i=$(r)),(null===i||i.length<1)&&(i=t.children("template, ".concat(e)));var o=$(i.html()).template(this.placeholderId,this._getUID());o.find("ul.tabs").attr("data-tabs",!0);var a=n.find(this.fieldSelector).last();a.length>0?a.after(o):o.appendTo(n),o.foundation(),this.onAddField&&this.onAddField(o)}},{key:"_removeField",value:function(e){var t=$(e).parents(this.fieldSelector);if(t.find("input").filter((function(e,t){return t.name.match(/id/)})).length>0){var n=t.find("input").filter((function(e,t){return t.name.match(/delete/)}));n.length>0&&$(n[0]).val(!0),t.addClass("hidden"),t.hide()}else t.remove();this.onRemoveField&&this.onRemoveField(t)}},{key:"_moveUpField",value:function(e){var t=$(e).parents(this.fieldSelector);t.prev().before(t),this.onMoveUpField&&this.onMoveUpField(t)}},{key:"_moveDownField",value:function(e){var t=$(e).parents(this.fieldSelector);t.next().after(t),this.onMoveDownField&&this.onMoveDownField(t)}},{key:"_activateFields",value:function(){var e=this,t=$(this.wrapperSelector).find(this.containerSelector);t.append(t.find("script")),$(this.fieldSelector).each((function(t,n){$(n).template(e.placeholderId,e._getUID()),$(n).find("ul.tabs").attr("data-tabs",!0)}))}},{key:"_getUID",value:function(){return this.elementCounter+=1,(new Date).getTime()+this.elementCounter}}],n&&y(t.prototype,n),r&&y(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function w(e){return new S(e)}var _=n(37974),F=n(72134),k=n(56341),O=n(77599);function P(e){return P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P(e)}function T(e){return function(e){if(Array.isArray(e))return j(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return j(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==P(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===P(o)?o:String(o)),r)}var i,o}function I(e,t,n){return t&&A(e.prototype,t),n&&A(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function C(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B(e,t)}function B(e,t){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},B(e,t)}function x(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=U(e);if(t){var i=U(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return D(this,n)}}function D(e,t){if(t&&("object"===P(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function U(e){return U=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},U(e)}Quill.debug("error");var M=Quill.import("delta"),R=Quill.import("blots/break"),N=Quill.import("blots/embed"),L=Quill.import("blots/scroll"),Q=Quill.import("parchment");Quill.register({"modules/history":O.Z},!0),Quill.import("ui/icons").linebreak="\u23ce";var z=function(e){C(n,e);var t=x(n);function n(){return E(this,n),t.apply(this,arguments)}return I(n,[{key:"length",value:function(){return 1}},{key:"value",value:function(){return"\n"}},{key:"insertInto",value:function(e,t){Reflect.apply(N.prototype.insertInto,this,[e,t])}}]),n}(R);Quill.register(z);var q=function(e){C(n,e);var t=x(n);function n(){return E(this,n),t.apply(this,arguments)}return I(n,[{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(this.parchmentOptimize(e,t),e.length>0&&this.emitter.emit("scroll-optimize",e,t))}},{key:"parchmentOptimize",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Reflect.apply(Q.Container.prototype.optimize,this,[n]);for(var r=T(this.observer.takeRecords());r.length>0;)t.push(r.pop());for(var i=function t(n,r){n&&n!==e&&n.domNode.parentNode&&(n.domNode.__blot&&null===n.domNode.__blot.mutations&&(n.domNode.__blot.mutations=[]),r&&t(n.parent))},o=function e(t){t.domNode.__blot&&(t instanceof Q.Container&&t.children.forEach(e),t.optimize(n))},a=t,l=0;a.length>0;l+=1){if(l>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(a.forEach((function(e){var t=Q.find(e.target,!0);t&&(t.domNode===e.target&&("childList"===e.type?(i(Q.find(e.previousSibling,!1)),e.addedNodes.forEach((function(e){var t=Q.find(e,!1);i(t,!1),t instanceof Q.Container&&t.children.forEach((function(e){i(e,!1)}))}))):"attributes"===e.type&&i(t.prev)),i(t))})),this.children.forEach(o),r=(a=T(this.observer.takeRecords())).slice();r.length>0;)t.push(r.pop())}}}]),n}(L);function H(e){var t=e.selection.getRange()[0],n=e.getLeaf(t.index)[0],r=e.getLeaf(t.index+1)[0],i=e.getText(t.index-1,1);if(null===r||n.parent!==r.parent)e.insertEmbed(t.index,"break",!0,"user"),e.insertEmbed(t.index,"break",!0,"user");else if("\n"===i){var o=(new M).retain(t.index).insert("\n");e.updateContents(o,Quill.sources.USER)}else e.insertEmbed(t.index,"break",!0,"user");e.setSelection(t.index+1,Quill.sources.SILENT)}Quill.register("blots/scroll",q,!0),Q.register(q),Quill.register("modules/linebreak",(function(e){e.getModule("toolbar").addHandler("linebreak",(function(){H(e)})),e.emitter.on("editor-ready",(function(){var t=e.getLength();"\n\n"===e.getText(t-2,2)&&e.deleteText(e.getLength()-2,2)})),(0,_.Z)(e),(0,F.Z)(e),(0,k.Z)(e)}));n(45845),n(7785),n(68557);function Z(e){return function(e){if(Array.isArray(e))return K(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var X=["bold","italic","link","underline","header","list","video","image","alt","break","width","style","code","blockquote","indent"];function G(e){var t=$(e).data("toolbar"),n=$(e).data("disabled"),r=[["bold","italic","underline","linebreak"],[{list:"ordered"},{list:"bullet"}],["link","clean"],["code","blockquote"],[{indent:"-1"},{indent:"+1"}]],i=$(e).data("editorImages");"full"===t?r=[[{header:[2,3,4,5,6,!1]}]].concat(Z(r),[["video"]]):"basic"===t&&(r=[].concat(Z(r),[["video"]])),i&&r.push(["image"]);var o={linebreak:{},toolbar:{container:r,handlers:{linebreak:H}}},a=$(e).siblings('input[type="hidden"]');e.innerHTML=a.val()||"";var l=$('meta[name="csrf-token"]').attr("content");i&&(o.imageResize={modules:["Resize","DisplaySize"]},o.imageUpload={url:$(e).data("uploadImagesPath"),method:"POST",name:"image",withCredentials:!1,headers:{"X-CSRF-Token":l},callbackOK:function(e,t){$("div.ql-toolbar").last().removeClass("editor-loading"),t(e.url)},callbackKO:function(e){$("div.ql-toolbar").last().removeClass("editor-loading"),console.log("Image upload error: ".concat(e.message))},checkBeforeSend:function(e,t){$("div.ql-toolbar").last().addClass("editor-loading"),t(e)}});var c=new Quill(e,{modules:o,formats:X,theme:"snow"});if(n&&c.disable(),c.on("text-change",(function(){var t=c.getText(),n=new CustomEvent("quill-position",{detail:c.getSelection()});if(e.dispatchEvent(n),"\n"!==t&&"\n\n"!==t||0!==c.root.querySelectorAll("iframe").length){var r="<p><br></p>",i=c.root.innerHTML.replace(new RegExp("^".concat(r,"|").concat(r,"$"),"g"),"");a.val(i)}else a.val("")})),c.emitter.emit("editor-ready"),i){var d=$(e).data("dragAndDropHelpText");$(e).after('<p class="help-text" style="margin-top:-1.5rem;">'.concat(d,"</p>"))}return c.emitter.emit("editor-ready"),c}var J=".meeting-agenda-item",V=new u({listSelector:".meeting-agenda-item:not(.hidden)",labelSelector:".card-title span:first",onPositionComputed:function(e,t){$(e).find("input[name$=\\[position\\]]").val(t)}}),W=new a({listSelector:".meeting-agenda-item:not(.hidden)",hideOnFirstSelector:".move-up-agenda-item",hideOnLastSelector:".move-down-agenda-item"}),Y=function(){h(".meeting-agenda-items-list:not(.published)",{handle:".agenda-item-divider",placeholder:'<div style="border-style: dashed; border-color: #000"></div>',forcePlaceholderSize:!0,onSortUpdate:function(){V.run()}})},ee=new u({listSelector:".meeting-agenda-item-child:not(.hidden)",labelSelector:".card-title span:first",onPositionComputed:function(e,t){$(e).find("input[name$=\\[position\\]]").val(t)}}),te=new a({listSelector:".meeting-agenda-item-child:not(.hidden)",hideOnFirstSelector:".move-up-agenda-item-child",hideOnLastSelector:".move-down-agenda-item-child"}),ne=function(e){return w({placeholderId:"meeting-agenda-item-child-id",wrapperSelector:"#".concat(e," ").concat(".meeting-agenda-item-childs"),containerSelector:".meeting-agenda-item-childs-list",fieldSelector:".meeting-agenda-item-child",addFieldButtonSelector:".add-agenda-item-child",removeFieldButtonSelector:".remove-agenda-item-child",moveUpFieldButtonSelector:".move-up-agenda-item-child",moveDownFieldButtonSelector:".move-down-agenda-item-child",onAddField:function(e){h(".meeting-agenda-item-childs-list:not(.published)",{handle:".agenda-item-child-divider",placeholder:'<div style="border-style: dashed; border-color: #000"></div>',forcePlaceholderSize:!0,onSortUpdate:function(){V.run()}}),e.find(".editor-container").each((function(e,t){G(t)})),ee.run(),te.run()},onRemoveField:function(){ee.run(),te.run()},onMoveUpField:function(){ee.run(),te.run()},onMoveDownField:function(){ee.run(),te.run()}})},re={},ie=function(e){var t=e.attr("id");re[t]=ne(t)};w({placeholderId:"meeting-agenda-item-id",wrapperSelector:".meeting-agenda-items",containerSelector:".meeting-agenda-items-list",fieldSelector:J,addFieldButtonSelector:".add-agenda-item",removeFieldButtonSelector:".remove-agenda-item",moveUpFieldButtonSelector:".move-up-agenda-item",moveDownFieldButtonSelector:".move-down-agenda-item",onAddField:function(e){ie(e),Y(),e.find(".editor-container").each((function(e,t){G(t)})),V.run(),W.run()},onRemoveField:function(){V.run(),W.run()},onMoveUpField:function(){V.run(),W.run()},onMoveDownField:function(){V.run(),W.run()}}),Y(),$(J).each((function(e,t){var n=$(t);!function(e){"true"===e.find("input[name$=\\[deleted\\]]").val()&&(e.addClass("hidden"),e.hide())}(n),ie(n)})),V.run(),W.run(),ee.run(),te.run();n(32576);function oe(e){return oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oe(e)}function ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(i=r.key,o=void 0,o=function(e,t){if("object"!==oe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==oe(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===oe(o)?o:String(o)),r)}var i,o}var ce=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ae(this,e),this.controllerField=t.controllerField,this.wrapperSelector=t.wrapperSelector,this.dependentFieldsSelector=t.dependentFieldsSelector,this.dependentInputSelector=t.dependentInputSelector,this.enablingCondition=t.enablingCondition,this._bindEvent(),this._run()}var t,n,r;return t=e,(n=[{key:"_run",value:function(){var e=this.controllerField,t=e.parents(this.wrapperSelector).find(this.dependentFieldsSelector),n=t.find(this.dependentInputSelector);this.enablingCondition(e)?(n.prop("disabled",!1),t.show()):(n.prop("disabled",!0),t.hide())}},{key:"_bindEvent",value:function(){var e=this;this.controllerField.on("change",(function(){e._run()}))}}])&&le(t.prototype,n),r&&le(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}();function de(e){return new ce(e)}function ue(e,t,n){var r="".concat(e,"Name");if(n[r])return n[r];var i=t.attr("name"),o=/\[[^\]]+\]$/;return i.match(o)?i.replace(o,"[".concat(e,"]")):e}function se(e,t,n){var r=$.extend({},t),i=e.attr("id").split("_");i.pop();var o="".concat(i.join("_")),a="latitude",l="longitude";e.length>0&&(a=ue("latitude",e,r),l=ue("longitude",e,r));var c=$.extend({latitudeId:"".concat(o,"_latitude"),longitudeId:"".concat(o,"_longitude"),latitudeName:a,longitudeName:l},t),d=!1,u=function(t){!function(){var t=$("#".concat(c.latitudeId));t.length<1&&(t=$('<input type="hidden" name="'.concat(c.latitudeName,'" id="').concat(c.latitudeId,'" />')),e.after(t));var n=$("#".concat(c.longitudeId));n.length<1&&(n=$('<input type="hidden" name="'.concat(c.longitudeName,'" id="').concat(c.longitudeId,'" />')),e.after(n))}(),$("#".concat(c.latitudeId)).val(t[0]).attr("value",t[0]),$("#".concat(c.longitudeId)).val(t[1]).attr("value",t[1])};e.on("change.decidim",(function(){d||($("#".concat(c.latitudeId)).val("").removeAttr("value"),$("#".concat(c.longitudeId)).val("").removeAttr("value"))})),e.on("geocoder-suggest-coordinates.decidim",(function(e,t){u(t),d=!0,n(t)}));var s="".concat(e.data("coordinates")).split(",").map(parseFloat);Array.isArray(s)&&2===s.length&&u(s)}$((function(){var e=".meeting-service",t=new u({listSelector:".meeting-service:not(.hidden)",labelSelector:".card-title span:first",onPositionComputed:function(e,t){$(e).find("input[name$=\\[position\\]]").val(t)}}),n=new a({listSelector:".meeting-service:not(.hidden)",hideOnFirstSelector:".move-up-service",hideOnLastSelector:".move-down-service"}),r=function(){h(".meeting-services-list:not(.published)",{handle:".service-divider",placeholder:'<div style="border-style: dashed; border-color: #000"></div>',forcePlaceholderSize:!0,onSortUpdate:function(){t.run()}})};w({placeholderId:"meeting-service-id",wrapperSelector:".meeting-services",containerSelector:".meeting-services-list",fieldSelector:e,addFieldButtonSelector:".add-service",removeFieldButtonSelector:".remove-service",moveUpFieldButtonSelector:".move-up-service",moveDownFieldButtonSelector:".move-down-service",onAddField:function(){r(),t.run(),n.run()},onRemoveField:function(){t.run(),n.run()},onMoveUpField:function(){t.run(),n.run()},onMoveDownField:function(){t.run(),n.run()}}),r(),$(e).each((function(e,t){!function(e){"true"===e.find("input[name$=\\[deleted\\]]").val()&&(e.addClass("hidden"),e.hide())}($(t))})),t.run(),n.run();var i=$(".edit_meeting, .new_meeting, .copy_meetings");if(i.length>0){var o=i.find("#private_meeting"),l=i.find("#transparent"),c=function(){var e=o.find("input[type='checkbox']").prop("checked");l.find("input[type='checkbox']").attr("disabled","disabled"),e&&l.find("input[type='checkbox']").attr("disabled",!e)};o.on("change",c),c(),se(i.find("#meeting_address"));var d=i.find("#meeting_registration_type"),s=i.find("#meeting_registration_url"),f=function(e,t,n){var r=e.val();t.toggle(r===n)};d.on("change",(function(e){var t=$(e.target);f(t,s,"on_different_platform")})),f(d,s,"on_different_platform");var p=i.find("#meeting_type_of_meeting"),m=i.find(".field[data-meeting-type='online']"),v=i.find(".field[data-meeting-type='in_person']"),b=i.find(".field[data-meeting-type='online-access-level']"),g=i.find("#meeting_iframe_embed_type"),y=function(e,t,n){var r=e.val();"hybrid"===r?t.show():(t.hide(),r===n&&t.show())};p.on("change",(function(e){var t=$(e.target),n=$("#meeting_iframe_embed_type select").val();y(t,m,"online"),y(t,v,"in_person"),"none"===n?b.hide():y(t,b,"online")})),y(p,m,"online"),y(p,v,"in_person"),de({controllerField:g,wrapperSelector:".iframe-fields",dependentFieldsSelector:".iframe-fields--access-level",dependentInputSelector:"input",enablingCondition:function(e){return"none"!==e.find("select").val()}})}}));n(29084);$((function(){var e=$('[name="meeting_registration_invite[existing_user]"');de({controllerField:e,wrapperSelector:".attendee-fields",dependentFieldsSelector:".attendee-fields--new-user",dependentInputSelector:"input",enablingCondition:function(){return $("#meeting_registration_invite_existing_user_false").is(":checked")}}),de({controllerField:e,wrapperSelector:".attendee-fields",dependentFieldsSelector:".attendee-fields--user-picker",dependentInputSelector:"input",enablingCondition:function(){return $("#meeting_registration_invite_existing_user_true").is(":checked")}})}))},32576:function(){$((function(){var e=$(".destroy-meeting-alert");e.length>0&&e.on("click",(function(){var t="".concat(e.data("invalid-destroy-message")," \n\n");t+=e.data("proposal-titles").replace(/\n\s/g,"\n"),alert(t)}))}))},29084:function(){$((function(){var e=$(".edit_meeting_registrations");if(e.length>0){var t=e.find("#meeting_registrations_enabled"),n=e.find("#meeting_available_slots"),r=e.find("#meeting_reserved_slots"),i=e.find("#meeting_customize_registration_email"),o=function(){var o=t.prop("checked");n.attr("disabled",!o),r.attr("disabled",!o),i.attr("disabled",!o),e.find(".editor-container").each((function(e,t){Quill.find(t).enable(o)}))};t.on("change",o),o()}}))}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}r.m=t,e=[],r.O=function(t,n,i,o){if(!n){var a=1/0;for(u=0;u<e.length;u++){n=e[u][0],i=e[u][1],o=e[u][2];for(var l=!0,c=0;c<n.length;c++)(!1&o||a>=o)&&Object.keys(r.O).every((function(e){return r.O[e](n[c])}))?n.splice(c--,1):(l=!1,o<a&&(a=o));if(l){e.splice(u--,1);var d=i();void 0!==d&&(t=d)}}return t}o=o||0;for(var u=e.length;u>0&&e[u-1][2]>o;u--)e[u]=e[u-1];e[u]=[n,i,o]},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){var e={597:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var i,o,a=n[0],l=n[1],c=n[2],d=0;if(a.some((function(t){return 0!==e[t]}))){for(i in l)r.o(l,i)&&(r.m[i]=l[i]);if(c)var u=c(r)}for(t&&t(n);d<a.length;d++)o=a[d],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return r.O(u)},n=self.webpackChunkdecidim_development_app=self.webpackChunkdecidim_development_app||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var i=r.O(void 0,[2415,4112,4061],(function(){return r(36846)}));i=r.O(i)}();
//# sourceMappingURL=decidim_meetings_admin-758cc4fa46e4abd23da0.js.map